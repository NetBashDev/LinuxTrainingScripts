#!/bin/bash

# Listado de directorios críticos
DIRECTORIOS=(
    "/etc"
    "/usr/bin"
    "/usr/local/bin"
    "/var"
    "/home"
    "/tmp"
    "/root"
    "/opt"
)

# Archivo de salida
SALIDA="permisos_directorios_criticos.txt"

# Crear o limpiar archivo de salida
echo "Reporte de permisos de directorios críticos - $(date)" > $SALIDA
echo "===================================================" >> $SALIDA

# Recolectar información de permisos
for DIR in "${DIRECTORIOS[@]}"; do
    if [ -d "$DIR" ]; then
        echo "Directorio: $DIR" >> $SALIDA
        ls -ld "$DIR" >> $SALIDA
        echo "" >> $SALIDA
    else
        echo "Directorio no encontrado: $DIR" >> $SALIDA
        echo "" >> $SALIDA
    fi
done

# Mostrar mensaje final
echo "Reporte generado en: $SALIDA"
